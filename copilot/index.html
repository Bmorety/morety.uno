<!doctype html>
<html lang="en">

<!-- third? deploy try -->

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>BRANDKICK CoPilot — Get early access</title>
    <meta name="description"
        content="BRANDKICK CoPilot is an email-first coach for LinkedIn. Get profile fixes, plug-and-paste posts and cadence nudges to turn clarity into inbound clients, speaking invites and advisory seats." />
    <!-- Tailwind CDN (or your own build) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* small helper colors to match your brand tokens used earlier */
        .bg-linkedin-blue {
            background-color: #0A66C2;
        }

        .hover\:bg-linkedin-dark:hover {
            background-color: #004182;
        }

        .shadow-soft {
            box-shadow: 0 8px 30px rgba(2, 6, 23, 0.06);
        }
    </style>
</head>



<body class="bg-gray-50 font-sans text-zinc-800">
    <header class="max-w-4xl mx-auto p-6">
        <div class="flex items-center gap-3">
            <img src="/images/logo.png" alt="BM logo"
                class="h-10 w-10 rounded-2xl object-contain bg-white p-1 shadow-soft">
            <div>
                <h1 class="text-2xl md:text-3xl font-extrabold leading-tight">BRANDKICK · CoPilot — coming soon.</h1>
                <p class="text-sm text-zinc-600 mt-2">
                    Email-first coach for founders and pros who want LinkedIn to work for them — DMs, clients, stages.
                </p>
                <p class="text-xs text-zinc-500 mt-1">by <span class="font-semibold">Bruno Morety</span> · <a
                        href="https://morety.uno" class="underline hover:no-underline" target="_blank"
                        rel="noopener">morety.uno</a></p>
            </div>
        </div>
    </header>

    <main class="max-w-4xl mx-auto p-6">
        <!-- HERO -->
        <section class="mb-6 bg-white rounded-2xl shadow-soft p-6 md:p-8">
            <div class="md:flex md:items-start md:justify-between gap-6">
                <div class="flex-1">
                    <h2 class="text-2xl md:text-2xl font-extrabold leading-tight">
                        Your LinkedIn - Your opportunity pipeline.
                    </h2>
                    <p class="text-m text-zinc-700 mt-3">
                        Forget a CV on display. Convert profile visits into conversations.<br>
                        Clear value messaging, a single next step, and consistent posts that spark replies.
                        <br><br>
                        <strong>BRANDKICK CoPilot — an Email-first Coach.</strong>
                        <br>
                        Gives you the profile fixes, post drafts and nudges to make that happen
                    </p>

                    <ul class="mt-4 space-y-0 text-sm text-zinc-700">
                        <li>• Your LinkedIn Profile optimised for oppotunities.</li>
                        <li>• Post ideas you can copy & paste, or adapt in seconds.</li>
                        <li>• A cadence strategy + nudges that actually create momentum.</li>
                        <li>• Productised + Human coach in the loop.</li>
                    </ul>

                    <p class="text-m text-zinc-700 mt-4">
                        <strong>Be intentional. Make LinkedIn generate inbound clients, speaking invites
                            and
                            advisory
                            seats.</strong>
                    </p>
                </div>

                <!-- WAITLIST FORM (ConvertKit embed goes here) -->

                <aside class="mt-8 md:mt-0 w-full md:w-80 bg-zinc-50 p-6 rounded-xl border border-zinc-100">

                    <h3 class="text-m font-semibold mt-4">Early invite — small batch</h3>
                    <br>

                    <p class="text-sm text-zinc-500 mb-0">
                        We’re rolling out in tiny batches. Sign up for a priority invite + early-price perk.<br>—
                        we’ll hold
                        a spot for you.
                    </p>

                    <!-- Replace the ConvertKit embed with this -->
                    <form id="bk-waitlist-form" class="space-y-3" autocomplete="off">
                        <label class="sr-only" for="bk-first">Name</label>
                        <input id="bk-first" name="firstName" placeholder="Name" type="text"
                            class="w-full rounded-lg p-3 border border-zinc-200" />

                        <label class="sr-only" for="bk-email">Email</label>
                        <input id="bk-email" name="email" placeholder="Email Address" required type="email"
                            class="w-full rounded-lg p-3 border border-zinc-200" />

                        <!-- Cloudflare Turnstile widget (replace data-sitekey) -->
                        <div class="mt-1">
                            <div class="cf-turnstile" data-sitekey="0x4AAAAAABvGoLuEnn7rA7OH" data-theme="light"></div>
                        </div>

                        <button id="bk-submit" type="submit"
                            class="mt-2 w-full rounded-xl px-4 py-3 text-white bg-linkedin-blue hover:bg-linkedin-dark text-sm font-semibold">
                            Join early list.
                        </button>

                        <p id="bk-form-note" class="text-xs text-zinc-500 mt-2">We’ll hold a spot for you. No spam.</p>
                    </form>

                    <!-- Turnstile script (add once on the page) -->
                    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js"></script>


                    <script>
                        (function () {
                            const form = document.getElementById('bk-waitlist-form');
                            const submitBtn = document.getElementById('bk-submit');
                            const note = document.getElementById('bk-form-note');

                            // inside your <script> where WORKER_ENDPOINT is defined
                            const isLocal = location.hostname === 'localhost' || location.hostname === '127.0.0.1';
                            const WORKER_BASE = isLocal ? 'http://127.0.0.1:8787' : 'https://copilot.bmorety.workers.dev';
                            const WORKER_ENDPOINT = `${WORKER_BASE}/copilot`;


                            form.addEventListener('submit', async (ev) => {
                                ev.preventDefault();
                                submitBtn.disabled = true;
                                submitBtn.classList.add('opacity-70');
                                note.textContent = 'Working...';

                                try {
                                    // 1) Wait for the turnstile library to exist
                                    const waitForTurnstile = (timeout = 5000) => new Promise((resolve, reject) => {
                                        const start = Date.now();
                                        (function check() {
                                            if (typeof window.turnstile !== 'undefined') return resolve(window.turnstile);
                                            if (Date.now() - start > timeout) return reject(new Error('turnstile_not_loaded'));
                                            setTimeout(check, 100);
                                        })();
                                    });

                                    await waitForTurnstile().catch(() => { /* continue, we'll prompt user */ });

                                    // 2) Try to get an existing token quickly
                                    let token = window.__BK_TURNSTILE_TOKEN || (typeof turnstile !== 'undefined' ? (turnstile.getResponse ? turnstile.getResponse() : null) : null);

                                    // 3) If no token, attempt reset + execute and poll for a token
                                    if (!token) {
                                        try {
                                            // reset widget (best-effort). Some embed versions accept no-arg reset.
                                            if (typeof turnstile !== 'undefined' && typeof turnstile.reset === 'function') {
                                                try { turnstile.reset(); } catch (e) { /* ignore reset failure */ }
                                            }
                                            // request a new token (best-effort)
                                            if (typeof turnstile !== 'undefined' && typeof turnstile.execute === 'function') {
                                                try { turnstile.execute(); } catch (e) { /* ignore execute failure */ }
                                            }
                                        } catch (e) {
                                            console.warn('turnstile reset/execute attempt failed', e);
                                        }

                                        // poll for token up to timeout
                                        const start = Date.now();
                                        const maxWait = 8000;
                                        while (!window.__BK_TURNSTILE_TOKEN && (Date.now() - start) < maxWait) {
                                            // eslint-disable-next-line no-await-in-loop
                                            await new Promise(r => setTimeout(r, 150));
                                        }
                                        token = window.__BK_TURNSTILE_TOKEN || (typeof turnstile !== 'undefined' && turnstile.getResponse ? turnstile.getResponse() : null);
                                    }

                                    if (!token) {
                                        note.textContent = 'Please complete the verification above.';
                                        submitBtn.disabled = false;
                                        submitBtn.classList.remove('opacity-70');
                                        return;
                                    }

                                    // 4) Build payload and POST to Worker
                                    const payload = {
                                        firstName: document.getElementById('bk-first').value || '',
                                        email: document.getElementById('bk-email').value,
                                        turnstileToken: token
                                    };

                                    const res = await fetch(WORKER_ENDPOINT, {
                                        method: 'POST',
                                        headers: { 'Content-Type': 'application/json' },
                                        body: JSON.stringify(payload),
                                    });

                                    // 5) Defensive response parsing — avoid parsing HTML as JSON
                                    const ct = res.headers.get('content-type') || '';
                                    let json = null;
                                    if (ct.includes('application/json')) {
                                        json = await res.json();
                                    } else {
                                        const text = await res.text();
                                        console.warn('Non-JSON response from worker:', text.slice(0, 1000));
                                        throw new Error('Unexpected response from server');
                                    }

                                    if (!res.ok) {
                                        console.error('waitlist error', json);
                                        note.textContent = json?.error || 'Something went wrong — try again.';
                                        submitBtn.disabled = false;
                                        submitBtn.classList.remove('opacity-70');
                                        return;
                                    }

                                    // 6) success: show existing success UI
                                    window.location.hash = '#success';
                                    const s = document.getElementById('success');
                                    if (s) s.classList.remove('hidden');
                                    form.querySelectorAll('input,button').forEach(i => i.disabled = true);
                                    note.textContent = 'Nice — you’re on the CoPilot early list ✅';

                                } catch (err) {
                                    console.error(err);
                                    note.textContent = 'Couldn’t submit — try again (or contact me).';
                                    submitBtn.disabled = false;
                                    submitBtn.classList.remove('opacity-70');
                                }
                            });

                        })();
                    </script>

                    <!-- <p class="text-xs text-zinc-500 mt-3">
                        We’ll use this email for invites & updates — not spam. Unsubscribe anytime.
                    </p> -->
                </aside>
            </div>
        </section>

        <!-- Q&As -->
        <section class="mb-6 grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="bg-white p-4 rounded-xl border border-zinc-100">
                <h4 class="text-sm font-medium">Q: Is CoPilot an app or a service?</h4>
                <p class="text-sm text-zinc-700 mt-2">
                    <strong>A:</strong> It’s an email-first coach with a light web UI — productised automation + human
                    review. You get
                    compact, actionable emails (profile plan + plug-and-paste posts)
                </p>
            </div>

            <div class="bg-white p-4 rounded-xl border border-zinc-100">
                <h4 class="text-sm font-medium">Q: Do you need my LinkedIn password?</h4>
                <p class="text-sm text-zinc-700 mt-2">
                    <strong>A:</strong> No — never. CoPilot is email-first; we only use text you paste or upload.
                </p>
            </div>
        </section>

        <!-- CTA bar -->
        <section class="mb-8 text-center">
            <p class="text-sm text-zinc-700">You have the expertise — CoPilot helps you translate it into value.</p>
        </section>

        <!-- Success anchor (ConvertKit can redirect to /copilot#success) -->
        <section id="success" class="hidden text-center py-8 bg-emerald-50 rounded-xl border border-emerald-100">
            <h3 class="text-lg font-bold">Nice — you’re on the CoPilot early list ✅</h3>
            <p class="text-sm text-zinc-700 mt-2">
                We’ll email early access invites to that address.Prefer instant help? <a
                    href="https://morety.uno/#services" class="text-link underline">Book 30 Mins.</a>.
            </p>
        </section>
    </main>

    <footer class="max-w-4xl mx-auto p-6 text-xs text-zinc-500">
        <p class="font-medium">Value first. Value always.</p>
        <p class="mt-2">BRANDKICK CoPilot — coming soon. Built by BMorety ·
            <a href="https://morety.uno" class="text-link">morety.uno</a>
        </p>
    </footer>

    <!-- show success if ConvertKit redirects to /copilot#success -->
    <script>
        (function () {
            if (window.location.hash === '#success') {
                const s = document.getElementById('success');
                if (s) {
                    s.classList.remove('hidden');
                    // hide the form area to avoid duplicate UI if needed
                    const formWrap = document.getElementById('convertkit-embed');
                    if (formWrap) formWrap.style.display = 'none';
                    // scroll to success
                    s.scrollIntoView({ behavior: 'smooth' });
                }
            }
        })();
    </script>
</body>

</html>